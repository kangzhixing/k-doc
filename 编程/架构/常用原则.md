## 常用原则总结

### 1. 分层设计

单向依赖原则

无循环依赖原则

避免跨层调用原则

单一职责原则

数据冗余

### 2. 质量属性相关原则

- #### 数据安全

  - 数据存储安全：日志输出脱敏，敏感数据加密
- 数据传输安全
  
  - 数据输出展示

### 3. 资损防控

   - 可核对和可监控

   - 可熔断

### 4. 并发控制

### 5. 热点问题

   避免流量倾斜，注意单机 单表 单库问题

### 6. 数据倾斜

   保证数据分布均匀

### 7. 性能原则

### 8. 事务控制相关原则

### 9. 一致性相关原则

   - 区分系统调用错误和业务失败

   - 可重试

   - 可核对

## API设计相关设计原则

### 1. 水平越权控制

   前后端均要进行越权校验，通过接口层面的防控，可避免大多数越权事件发生

### 2. 接口幂等控制

   调用方必须提供用于幂等控制的参数

### 3. 兼容性原则

   接口升级需要兼容老接口